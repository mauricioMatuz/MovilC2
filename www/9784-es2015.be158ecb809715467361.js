"use strict";(self.webpackChunkAppMovil=self.webpackChunkAppMovil||[]).push([[9784],{9784:function(e,t,n){n.r(t),n.d(t,{RegisterPageModule:function(){return Z}});var r=n(8583),o=n(665),a=n(2859),i=n(5496),s=n(4762),u=n(3018),l=n(2278);let c=(()=>{class e{constructor(e){this.fireBase=e}createUser(e,t,n){return this.fireBase.collection(t).doc(n).set(e)}getDoc(e,t){return this.fireBase.collection(e).doc(t).valueChanges()}updateDoc(e,t,n){return this.fireBase.collection(e).doc(t).update(n)}getID(e){return this.fireBase.collection(e).get()}deleteDoc(e,t){return this.fireBase.collection(e).doc(t).delete()}getUser(){this.fireBase.collection("Usuarios").valueChanges().subscribe(e=>{console.log("res => ",e)})}}return e.\u0275fac=function(t){return new(t||e)(u.LFG(l.ST))},e.\u0275prov=u.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=n(3602),h=n(7556),d=n(8295),p=n(6479);const m=[{path:"",component:(()=>{class e{constructor(e,t,n,r){this.router=e,this.firebase=t,this.message=n,this.aut=r,this.user={nombre:"",usuario:"",email:"",contrasena:"",contrasenaVerif:"",verificacionEmail:!1,verificacionNombre:!1,verificacionUsuario:!1,verificacionContra:!1,verificacionContraVefi:!1},this.alertaUsuario="",this.alertaContra="",this.alertaPassword="",this.alertaPasswordVeri=""}ngOnInit(){}onKeyCorreo(e){let t=e.target.value;new RegExp("^[A-Za-z0-9-@.#-$%&'*_]*$").test(t)||(e.target.value=t.slice(0,-1)),this.user.verificacionEmail=!!new RegExp("[a-zA-Z0-9.#$%&'*_-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$").test(this.user.email)}onKeyUp(e){let t=e.target.value;new RegExp("^[A-Za-z0-9? ]+$").test(t)||(e.target.value=t.slice(0,-1)),this.user.verificacionUsuario=!!new RegExp("^[A-Za-z0-9]*$").test(this.user.usuario)}onKeyPassword(e){let t=e.target.value;new RegExp("^[A-Za-z0-9*#&$%]*$").test(t)||(e.target.value=t.slice(0,-1));let n=new RegExp("^(?=.*\\d)(?=.*[\\u0021-\\u002b\\u003c-\\u0040])(?=.*[A-Z])(?=.*[a-z])\\S{8,16}$");"contrasena"==e.target.name&&(this.user.verificacionContra=!!n.test(this.user.contrasena)),"contrasenaVerif"==e.target.name&&(this.user.verificacionContraVefi=!!n.test(this.user.contrasenaVerif))}guardar(e){return(0,s.mG)(this,void 0,void 0,function*(){if(this.message.presentLoading("Guardando usuario..."),this.user.contrasena==this.user.contrasenaVerif)if(this.user.contrasena.length>=8&&this.user.contrasenaVerif.length>=8&&this.user.usuario.length>=8){const e={nombre:this.user.nombre,usuario:this.user.usuario,correo:this.user.email,contrasena:this.user.contrasena,id:null},t=yield this.aut.registroUser(e).catch(e=>{this.message.closeLoading(),this.message.presentToast("UPS OCURRIO ALGO MALO D:")});if(t){const n="Usuarios",r=t.user.uid;e.id=r,yield this.firebase.createUser(e,n,r).then(()=>{this.message.closeLoading(),this.message.presentToast("USUARIO NUEVO GUARDADO")})}this.router.navigate(["/home"])}else this.message.presentToast("Problema de caracteres.");else this.message.presentToast("La contrase\xf1a no coincide.")})}}return e.\u0275fac=function(t){return new(t||e)(u.Y36(i.F0),u.Y36(c),u.Y36(g.k),u.Y36(h.e))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-register"]],decls:57,vars:11,consts:[["slot","start"],["defaultHref","/","text","Regresar","color","primary"],[2,"text-align","center !important"],[1,"example-form"],["formUser","ngForm"],[2,"color","black"],["type","text","matInput","","name","nombre","required","",3,"ngModel","ngModelChange"],["nombreCount",""],["aling","end"],[1,"example-full-width"],["type","text","matInput","","name","usuario","maxlength","30","minlength","8","placeholder","Usuario","onkeypress","if(this.value.length==30) return false;","required","",3,"ngModel","ngModelChange","keyup"],["usuarioCount",""],["type","email","matInput","","name","email","placeholder","Correo Electronico","required","",3,"ngModel","ngModelChange","keyup"],["emailCount",""],["type","password","matInput","","name","contrasena","maxlength","20","minlength","8","placeholder","Contrase\xf1a","onkeypress","if(this.value.length==20) return false;","required","",3,"ngModel","ngModelChange","keyup"],["contraCount",""],["type","password","matInput","","name","contrasenaVerif","maxlength","20","minlength","8","placeholder","Contrase\xf1a","onkeypress","if(this.value.length==20) return false;","required","",3,"ngModel","ngModelChange","keyup"],["contraVeriCount",""],[3,"disabled","click"]],template:function(e,t){if(1&e){const e=u.EpF();u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar"),u.TgZ(2,"ion-buttons",0),u._UZ(3,"ion-back-button",1),u.qZA(),u.qZA(),u.qZA(),u.TgZ(4,"ion-content",2),u.TgZ(5,"form",3,4),u._UZ(7,"br"),u._UZ(8,"br"),u.TgZ(9,"ion-row"),u.TgZ(10,"ion-col"),u.TgZ(11,"mat-label",5),u._uU(12,"Nombre"),u.qZA(),u.TgZ(13,"input",6,7),u.NdJ("ngModelChange",function(e){return t.user.nombre=e}),u.qZA(),u.TgZ(15,"mat-hint",8),u._uU(16),u.qZA(),u.qZA(),u.qZA(),u.TgZ(17,"ion-row"),u.TgZ(18,"ion-col"),u.TgZ(19,"mat-form-field",9),u.TgZ(20,"mat-label",5),u._uU(21,"Usuario"),u.qZA(),u.TgZ(22,"input",10,11),u.NdJ("ngModelChange",function(e){return t.user.usuario=e})("keyup",function(e){return t.onKeyUp(e)}),u.qZA(),u.TgZ(24,"mat-hint",8),u._uU(25),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(26,"ion-row"),u.TgZ(27,"ion-col"),u.TgZ(28,"mat-form-field",9),u.TgZ(29,"mat-label",5),u._uU(30,"Correo Electronico"),u.qZA(),u.TgZ(31,"input",12,13),u.NdJ("ngModelChange",function(e){return t.user.email=e})("keyup",function(e){return t.onKeyCorreo(e)}),u.qZA(),u.TgZ(33,"mat-hint",8),u._uU(34),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(35,"ion-row"),u.TgZ(36,"ion-col"),u.TgZ(37,"mat-form-field",9),u.TgZ(38,"mat-label",5),u._uU(39,"Contrase\xf1a"),u.qZA(),u.TgZ(40,"input",14,15),u.NdJ("ngModelChange",function(e){return t.user.contrasena=e})("keyup",function(e){return t.onKeyPassword(e)}),u.qZA(),u.TgZ(42,"mat-hint",8),u._uU(43),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(44,"ion-row"),u.TgZ(45,"ion-col"),u.TgZ(46,"mat-form-field",9),u.TgZ(47,"mat-label",5),u._uU(48,"Contrase\xf1a"),u.qZA(),u.TgZ(49,"input",16,17),u.NdJ("ngModelChange",function(e){return t.user.contrasenaVerif=e})("keyup",function(e){return t.onKeyPassword(e)}),u.qZA(),u.TgZ(51,"mat-hint",8),u._uU(52),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u._UZ(53,"br"),u._UZ(54,"br"),u.TgZ(55,"ion-button",18),u.NdJ("click",function(){u.CHM(e);const n=u.MAs(6);return t.guardar(n)}),u._uU(56,"Guardar"),u.qZA(),u.qZA(),u.qZA()}if(2&e){const e=u.MAs(14),n=u.MAs(23),r=u.MAs(32),o=u.MAs(41),a=u.MAs(50);u.xp6(13),u.Q6J("ngModel",t.user.nombre),u.xp6(3),u.hij("",e.value.length," /30"),u.xp6(6),u.Q6J("ngModel",t.user.usuario),u.xp6(3),u.hij("",n.value.length," /30"),u.xp6(6),u.Q6J("ngModel",t.user.email),u.xp6(3),u.Oqu(r.value.length),u.xp6(6),u.Q6J("ngModel",t.user.contrasena),u.xp6(3),u.hij("",o.value.length," /20"),u.xp6(6),u.Q6J("ngModel",t.user.contrasenaVerif),u.xp6(3),u.hij("",a.value.length," /20"),u.xp6(3),u.Q6J("disabled",0==t.user.verificacionEmail||0==t.user.verificacionUsuario||0==t.user.verificacionContra||0==t.user.verificacionContraVefi)}},directives:[a.Gu,a.sr,a.Sm,a.oU,a.cs,a.W2,o._Y,o.JL,o.F,a.Nd,a.wI,d.hX,p.Nt,o.Fj,o.Q7,o.JJ,o.On,d.bx,d.KE,o.nD,o.wO,a.YG],styles:["ion-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-left:10px;margin-top:10px}ion-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{margin:48px 12px 12px}"]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[i.Bz.forChild(m)],i.Bz]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[[r.ez,o.u5,a.Pc,f,p.c]]}),e})()}}]);