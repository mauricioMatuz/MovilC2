!function(){"use strict";function e(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function n(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function t(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(self.webpackChunkAppMovil=self.webpackChunkAppMovil||[]).push([[9784],{9784:function(n,r,a){a.r(r),a.d(r,{RegisterPageModule:function(){return b}});var o,i=a(8583),s=a(665),u=a(2859),c=a(5496),l=a(4762),g=a(3018),f=a(2278),h=((o=function(){function n(t){e(this,n),this.fireBase=t}return t(n,[{key:"createUser",value:function(e,n,t){return this.fireBase.collection(n).doc(t).set(e)}},{key:"getDoc",value:function(e,n){return this.fireBase.collection(e).doc(n).valueChanges()}},{key:"updateDoc",value:function(e,n,t){return this.fireBase.collection(e).doc(n).update(t)}},{key:"getID",value:function(e){return this.fireBase.collection(e).get()}},{key:"deleteDoc",value:function(e,n){return this.fireBase.collection(e).doc(n).delete()}},{key:"getUser",value:function(){this.fireBase.collection("Usuarios").valueChanges().subscribe(function(e){console.log("res => ",e)})}}]),n}()).\u0275fac=function(e){return new(e||o)(g.LFG(f.ST))},o.\u0275prov=g.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o),p=a(3602),m=a(7556),d=a(8295),Z=a(6479),v=[{path:"",component:function(){var n=function(){function n(t,r,a,o){e(this,n),this.router=t,this.firebase=r,this.message=a,this.aut=o,this.user={nombre:"",usuario:"",email:"",contrasena:"",contrasenaVerif:"",verificacionEmail:!1,verificacionNombre:!1,verificacionUsuario:!1,verificacionContra:!1,verificacionContraVefi:!1},this.alertaUsuario="",this.alertaContra="",this.alertaPassword="",this.alertaPasswordVeri=""}return t(n,[{key:"ngOnInit",value:function(){}},{key:"onKeyCorreo",value:function(e){var n=e.target.value;new RegExp("^[A-Za-z0-9-@.#-$%&'*_]*$").test(n)||(e.target.value=n.slice(0,-1)),this.user.verificacionEmail=!!new RegExp("[a-zA-Z0-9.#$%&'*_-]+@[a-zA-Z0-9-]+(?:.[a-zA-Z0-9-]+)*$").test(this.user.email)}},{key:"onKeyUp",value:function(e){var n=e.target.value;new RegExp("^[A-Za-z0-9? ]+$").test(n)||(e.target.value=n.slice(0,-1)),this.user.verificacionUsuario=!!new RegExp("^[A-Za-z0-9]*$").test(this.user.usuario)}},{key:"onKeyPassword",value:function(e){var n=e.target.value;new RegExp("^[A-Za-z0-9*#&$%]*$").test(n)||(e.target.value=n.slice(0,-1));var t=new RegExp("^(?=.*\\d)(?=.*[\\u0021-\\u002b\\u003c-\\u0040])(?=.*[A-Z])(?=.*[a-z])\\S{8,16}$");"contrasena"==e.target.name&&(this.user.verificacionContra=!!t.test(this.user.contrasena)),"contrasenaVerif"==e.target.name&&(this.user.verificacionContraVefi=!!t.test(this.user.contrasenaVerif))}},{key:"guardar",value:function(e){return(0,l.mG)(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,t,r,a=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.message.presentLoading("Guardando usuario..."),this.user.contrasena!=this.user.contrasenaVerif){e.next=17;break}if(!(this.user.contrasena.length>=8&&this.user.contrasenaVerif.length>=8&&this.user.usuario.length>=8)){e.next=14;break}return n={nombre:this.user.nombre,usuario:this.user.usuario,correo:this.user.email,contrasena:this.user.contrasena,id:null},e.next=5,this.aut.registroUser(n).catch(function(e){a.message.closeLoading(),a.message.presentToast("UPS OCURRIO ALGO MALO D:")});case 5:if(!(t=e.sent)){e.next=11;break}return"Usuarios",r=t.user.uid,n.id=r,e.next=11,this.firebase.createUser(n,"Usuarios",r).then(function(){a.message.closeLoading(),a.message.presentToast("USUARIO NUEVO GUARDADO")});case 11:this.router.navigate(["/home"]),e.next=15;break;case 14:this.message.presentToast("Problema de caracteres.");case 15:e.next=18;break;case 17:this.message.presentToast("La contrase\xf1a no coincide.");case 18:case"end":return e.stop()}},e,this)}))}}]),n}();return n.\u0275fac=function(e){return new(e||n)(g.Y36(c.F0),g.Y36(h),g.Y36(p.k),g.Y36(m.e))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-register"]],decls:57,vars:11,consts:[["slot","start"],["defaultHref","/","text","Regresar","color","primary"],[2,"text-align","center !important"],[1,"example-form"],["formUser","ngForm"],[2,"color","black"],["type","text","matInput","","name","nombre","required","",3,"ngModel","ngModelChange"],["nombreCount",""],["aling","end"],[1,"example-full-width"],["type","text","matInput","","name","usuario","maxlength","30","minlength","8","placeholder","Usuario","onkeypress","if(this.value.length==30) return false;","required","",3,"ngModel","ngModelChange","keyup"],["usuarioCount",""],["type","email","matInput","","name","email","placeholder","Correo Electronico","required","",3,"ngModel","ngModelChange","keyup"],["emailCount",""],["type","password","matInput","","name","contrasena","maxlength","20","minlength","8","placeholder","Contrase\xf1a","onkeypress","if(this.value.length==20) return false;","required","",3,"ngModel","ngModelChange","keyup"],["contraCount",""],["type","password","matInput","","name","contrasenaVerif","maxlength","20","minlength","8","placeholder","Contrase\xf1a","onkeypress","if(this.value.length==20) return false;","required","",3,"ngModel","ngModelChange","keyup"],["contraVeriCount",""],[3,"disabled","click"]],template:function(e,n){if(1&e){var t=g.EpF();g.TgZ(0,"ion-header"),g.TgZ(1,"ion-toolbar"),g.TgZ(2,"ion-buttons",0),g._UZ(3,"ion-back-button",1),g.qZA(),g.qZA(),g.qZA(),g.TgZ(4,"ion-content",2),g.TgZ(5,"form",3,4),g._UZ(7,"br"),g._UZ(8,"br"),g.TgZ(9,"ion-row"),g.TgZ(10,"ion-col"),g.TgZ(11,"mat-label",5),g._uU(12,"Nombre"),g.qZA(),g.TgZ(13,"input",6,7),g.NdJ("ngModelChange",function(e){return n.user.nombre=e}),g.qZA(),g.TgZ(15,"mat-hint",8),g._uU(16),g.qZA(),g.qZA(),g.qZA(),g.TgZ(17,"ion-row"),g.TgZ(18,"ion-col"),g.TgZ(19,"mat-form-field",9),g.TgZ(20,"mat-label",5),g._uU(21,"Usuario"),g.qZA(),g.TgZ(22,"input",10,11),g.NdJ("ngModelChange",function(e){return n.user.usuario=e})("keyup",function(e){return n.onKeyUp(e)}),g.qZA(),g.TgZ(24,"mat-hint",8),g._uU(25),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(26,"ion-row"),g.TgZ(27,"ion-col"),g.TgZ(28,"mat-form-field",9),g.TgZ(29,"mat-label",5),g._uU(30,"Correo Electronico"),g.qZA(),g.TgZ(31,"input",12,13),g.NdJ("ngModelChange",function(e){return n.user.email=e})("keyup",function(e){return n.onKeyCorreo(e)}),g.qZA(),g.TgZ(33,"mat-hint",8),g._uU(34),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(35,"ion-row"),g.TgZ(36,"ion-col"),g.TgZ(37,"mat-form-field",9),g.TgZ(38,"mat-label",5),g._uU(39,"Contrase\xf1a"),g.qZA(),g.TgZ(40,"input",14,15),g.NdJ("ngModelChange",function(e){return n.user.contrasena=e})("keyup",function(e){return n.onKeyPassword(e)}),g.qZA(),g.TgZ(42,"mat-hint",8),g._uU(43),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g.TgZ(44,"ion-row"),g.TgZ(45,"ion-col"),g.TgZ(46,"mat-form-field",9),g.TgZ(47,"mat-label",5),g._uU(48,"Contrase\xf1a"),g.qZA(),g.TgZ(49,"input",16,17),g.NdJ("ngModelChange",function(e){return n.user.contrasenaVerif=e})("keyup",function(e){return n.onKeyPassword(e)}),g.qZA(),g.TgZ(51,"mat-hint",8),g._uU(52),g.qZA(),g.qZA(),g.qZA(),g.qZA(),g._UZ(53,"br"),g._UZ(54,"br"),g.TgZ(55,"ion-button",18),g.NdJ("click",function(){g.CHM(t);var e=g.MAs(6);return n.guardar(e)}),g._uU(56,"Guardar"),g.qZA(),g.qZA(),g.qZA()}if(2&e){var r=g.MAs(14),a=g.MAs(23),o=g.MAs(32),i=g.MAs(41),s=g.MAs(50);g.xp6(13),g.Q6J("ngModel",n.user.nombre),g.xp6(3),g.hij("",r.value.length," /30"),g.xp6(6),g.Q6J("ngModel",n.user.usuario),g.xp6(3),g.hij("",a.value.length," /30"),g.xp6(6),g.Q6J("ngModel",n.user.email),g.xp6(3),g.Oqu(o.value.length),g.xp6(6),g.Q6J("ngModel",n.user.contrasena),g.xp6(3),g.hij("",i.value.length," /20"),g.xp6(6),g.Q6J("ngModel",n.user.contrasenaVerif),g.xp6(3),g.hij("",s.value.length," /20"),g.xp6(3),g.Q6J("disabled",0==n.user.verificacionEmail||0==n.user.verificacionUsuario||0==n.user.verificacionContra||0==n.user.verificacionContraVefi)}},directives:[u.Gu,u.sr,u.Sm,u.oU,u.cs,u.W2,s._Y,s.JL,s.F,u.Nd,u.wI,d.hX,Z.Nt,s.Fj,s.Q7,s.JJ,s.On,d.bx,d.KE,s.nD,s.wO,u.YG],styles:["ion-content[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:red;font-size:14px;margin-left:10px;margin-top:10px}ion-content[_ngcontent-%COMP%]   .submit-btn[_ngcontent-%COMP%]{margin:48px 12px 12px}"]}),n}()}],A=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[c.Bz.forChild(v)],c.Bz]}),n}(),b=function(){var n=function n(){e(this,n)};return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[i.ez,s.u5,u.Pc,A,Z.c]]}),n}()}}])}();